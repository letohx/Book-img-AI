<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cohere Summarizer</title>
    <style>
       body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }

        textarea {
            width: 100%;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-top: 10px;
        }

        button {
            margin-top: 10px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>




   <!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
   <h1>Book visualizer AI</h1>

    <!-- Основной текст -->
    <textarea id="textToSpeak" rows="10" placeholder="Введите текст для озвучки...">
       
    </textarea><br>

    <!-- Поле для отображения текущих слов с переносом текста -->
    <textarea id="currentText" rows="5"></textarea><br>

    <!-- Инпут для выбора количества слов -->
    <label for="wordCount">Number of words at a time:</label>
    <input type="number" id="wordCount" min="1" value="50"><br><br>

    <!-- Выпадающий список для выбора голоса -->
    <label for="voiceselection">Выберите голос:</label>
    <select id="voiceselection" class="input input--dropdown js--animations">
        <option value="Russian Female">Russian Female</option>
        <option value="Russian Male">Russian Male</option>
        <option value="UK English Female">UK English Female</option>
        <option value="UK English Male">UK English Male</option>
        <option value="US English Female">US English Female</option>
        <option value="US English Male">US English Male</option>
        <option value="Polish Male">Polish Male</option>
        <option value="Polish Female">Polish Female</option>
        <option value="Romanian Female">Romanian Female</option>
        <option value="Slovak Female">Slovak Female</option>
        <option value="Ukrainian Female">Ukrainian Female</option>
        <option value="Serbo-Croatian Male">Serbo-Croatian Male</option>
        <option value="Bosnian Male">Bosnian Male</option>
    </select><br><br>

    <div class="container">
        <div class="input-group">
            <label>Width</label>
            <input id="width" type="text" value="1920" size="5">
        </div>
        <div class="input-group">
            <label>Height</label>
            <input id="height" type="text" value="1080" size="5">
        </div>
        <div class="input-group">
            <label>Style</label>
            <select id="style"></select>
        </div>
        <button onclick="autoSetSize()">Auto size image</button>
    </div>

    <button onclick="startSpeaking()">startSpeaking</button>

    <!-- Поле для отображения сокращенного текста -->
    <div id="summaryText">

    </div><br>

    <!-- <img src="https://www.research.autodesk.com/app/uploads/2023/01/ai.jpg" id="img" title="Full screen"> -->
   <!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->




    <button onclick="summarizeText()">short</button>




    <!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
    <!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->




    <script>
        // Функция для отправки текста на API и получения сокращенного текста
        async function summarizeText() {
            const currentText = document.getElementById('currentText').value;
            const summaryText = document.getElementById('summaryText');

  
            summaryText.value = '';

            try {
                const response = await fetch('/.netlify/functions/summarize', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ text: currentText })
                });

                const data = await response.json();
                summaryText.innerHTML = data.summary;
            } catch (error) {
                console.error('Error:', error);
                summaryText.innerHTML = `Error processing your request. Please try again later.`;
            }

        }
    </script>
</body>
</html>
